{"version":3,"sources":["webpack:///./src/app/feed/feed.module.ts","webpack:///./src/app/feed/feed.page.html","webpack:///./src/app/feed/feed.page.scss","webpack:///./src/app/feed/feed.page.ts","webpack:///./src/app/modal/modal.page.html","webpack:///./src/app/modal/modal.page.scss","webpack:///./src/app/modal/modal.page.ts"],"names":[],"mappings":"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","file":"feed-feed-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FeedPage } from './feed.page';\n// import { ModalPageModule } from '../modal/modal.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FeedPage\n  }\n];\n\n@NgModule({\n  imports: [\n    // ModalPageModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n\n  ],\n  declarations: [FeedPage]\n})\nexport class FeedPageModule { }\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>Feed</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"openDrawer()\\\">\\n        <ion-icon name=\\\"menu\\\"></ion-icon>\\n        <ion-icon name=\\\"arrow-round-forward\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-label>Enable Radar</ion-label>\\n      <ion-toggle [(ngModel)]=\\\"radar\\\" (ionChange)=\\\"radarSystem()\\\"></ion-toggle>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Help Me</ion-label>\\n      <ion-toggle [(ngModel)]=\\\"urgent\\\" (ionChange)=\\\"urgentCall()\\\" color=\\\"danger\\\"></ion-toggle>\\n    </ion-item>\\n  </ion-list>\\n\\n  <ion-card padding>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">\\n        <ion-icon name=\\\"chatbubbles\\\"></ion-icon>\\n        Share your status...\\n      </ion-label>\\n      <ion-textarea name=\\\"text\\\" [(ngModel)]=\\\"text\\\"></ion-textarea>\\n    </ion-item>\\n    <br>\\n    <ion-button expand=\\\"block\\\" fill=\\\"solid\\\" (click)=\\\"addPost()\\\">Post</ion-button>\\n  </ion-card>\\n  <hr>\\n  <ion-card *ngFor=\\\"let post of posts; let i = index\\\">\\n    <!-- <img src=\\\"assets/img/nin-live.png\\\" /> -->\\n\\n    <ion-card-content (click)=\\\"goToPost(post._id)\\\">\\n      <ion-row>\\n        <ion-col size=\\\"3\\\">\\n          <ion-avatar class=\\\"feed-user-pic\\\">\\n            <img src=\\\"{{post.userImage}}\\\">\\n          </ion-avatar>\\n        </ion-col>\\n        <ion-col size=\\\"9\\\">\\n          <p>\\n            {{ post.text }}\\n          </p>\\n          <small>\\n            By {{ post.name }}\\n          </small>\\n        </ion-col>\\n      </ion-row>\\n    </ion-card-content>\\n    <ion-row padding>\\n      <ion-col>\\n        <div *ngIf=\\\"!likeCheck(post.likes)\\\" (click)=\\\"likePost(post._id, i)\\\">\\n          <ion-icon name='thumbs-up'></ion-icon>\\n          {{ post.likes.length }} Like\\n        </div>\\n        <div *ngIf=\\\"likeCheck(post.likes)\\\" (click)=\\\"unlikePost(post._id, i)\\\">\\n          <ion-icon name='thumbs-up' color=\\\"primary\\\"></ion-icon>\\n          {{ post.likes.length }} Like\\n        </div>\\n      </ion-col>\\n      <ion-col text-center>\\n        <div (click)=\\\"goToPost(post._id)\\\">\\n          <ion-icon name=\\\"quote\\\" color=\\\"primary\\\"></ion-icon>\\n          {{ post.comments.length }} Comment\\n        </div>\\n      </ion-col>\\n      <ion-col text-center *ngIf=\\\"user_id == post.user\\\">\\n        <div (click)=\\\"deletePost(post._id, i)\\\">\\n          <ion-icon name=\\\"trash\\\" color=\\\"danger\\\"></ion-icon>\\n          Delete\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-card>\\n</ion-content>\"","module.exports = \".feed-user-pic {\\n  height: 40px;\\n  width: 40px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYXJlbmRyYW1hdXJ5YS93ZWJfdHV0b3JpYWxzL0RlZXBhL2Zyb250ZW5kL3NyYy9hcHAvZmVlZC9mZWVkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQVk7RUFDWixXQUFXLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9mZWVkL2ZlZWQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZlZWQtdXNlci1waWMge1xuICAgIGhlaWdodDogNDBweDtcbiAgICB3aWR0aDogNDBweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, ModalController } from '@ionic/angular';\nimport { NetworkProvider } from '../services/network.service';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { ModalPage } from '../modal/modal.page';\n\n@Component({\n  selector: 'app-feed',\n  templateUrl: './feed.page.html',\n  styleUrls: ['./feed.page.scss'],\n})\nexport class FeedPage implements OnInit {\n  posts = [];\n  text = \"\";\n  username: string;\n  user_id: string;\n  urgent: Boolean = false;\n\n  radar: Boolean = false;\n  status = 0;\n\n  constructor(\n    private util: NetworkProvider,\n    private navCtrl: NavController,\n    private modalCtrl: ModalController,\n    private geoCords: Geolocation\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.loadPosts();\n  }\n\n  ionViewWillEnter() {\n    this.loadPosts();\n    // get the user radar status\n    this.getRadarStatus();\n  }\n\n  getRadarStatus() {\n    // write the logic for the radar status\n    this.util.getAuthData('users/radar-status').subscribe((res: Radar) => {\n      console.log(res.active);\n      if (res.active != null) {\n        if (res.active) {\n          this.status = 1;\n          this.radar = res.active;\n        }\n      }\n    });\n  }\n\n  // Enable the radar methods\n  radarSystem() {\n    if (this.status == 1) {\n      this.status = this.status + 1;\n    } else {\n      if (this.radar) {\n        this.enableRadar();\n      } else {\n        this.disableRadar();\n      }\n    }\n  }\n\n  // Enable the urgent mode\n  urgentCall() {\n    this.geoCords.getCurrentPosition().then((res) => {\n      let data = {\n        lat: res.coords.latitude,\n        lng: res.coords.longitude\n      };\n      this.util.postAuthData('users/urgent-mode', data).subscribe((res: any) => {\n        this.util.toastPresent(res.message, 'success');\n        console.log(res);\n      });\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  loadPosts() {\n    this.user_id = this.util.getuserId();\n    this.util.getData('posts').subscribe((res: any) => {\n      this.posts = res;\n    });\n  }\n\n  //like Post\n  likePost(id, i) {\n    this.util.postAuthData(`posts/like/${id}`, {})\n      .subscribe((res: any) => {\n        this.posts.splice(i, 1, res);\n      });\n  }\n\n  //unlike Post\n  unlikePost(id, i) {\n    this.util.postAuthData(`posts/unlike/${id}`, {})\n      .subscribe((res: any) => {\n        this.posts.splice(i, 1, res);\n      })\n  }\n\n  // check if the like is in the likes array of the post\n  likeCheck(likes) {\n    let user_id = this.util.authUser();\n    return likes.some((el) => {\n      return el.user.toString() === user_id\n    });\n  }\n\n  // comment Post\n  commentPost(id, i, comments) {\n    this.presentModal(id, i, comments);\n  }\n\n  async presentModal(id, i, comments) {\n    const modal = await this.modalCtrl.create({\n      component: ModalPage,\n      componentProps: { value: id, index: i }\n    });\n    modal.onDidDismiss().then(() => {\n      this.loadPosts();\n    });\n  }\n\n  // Post The Text\n  addPost() {\n    if (this.text != \"\") {\n      // then post the data to the server\n      let newPost = {\n        text: this.text\n      };\n      this.util.postAuthData('posts', newPost).subscribe((res: any) => {\n        this.posts.unshift(res);\n      });\n    } else {\n      // show the error\n      this.util.toastPresent('Please enter the post.', 'danger');\n    }\n  }\n\n  // Navigate to the particular posts page with id \n  goToPost(id) {\n    this.navCtrl.navigateForward(`/post/${id}`);\n  }\n\n  getUsername() {\n    return this.util.getusername();\n  }\n\n  deletePost(id, i) {\n    this.util.deleteAuthData(`posts/${id}`).subscribe((res: any) => {\n      if (res.success) {\n        this.util.toastPresent('Post deleted successfully.', 'success');\n        this.posts = this.posts.filter(post => post._id != id);\n      }\n    });\n  }\n\n  // To Enable the radar system\n  enableRadar() {\n    this.geoCords.getCurrentPosition().then((res) => {\n      let data = {\n        lat: res.coords.latitude,\n        lng: res.coords.longitude\n      };\n      this.util.postAuthData('users/radar-mode-enable', data).subscribe((res: any) => {\n        this.util.toastPresent(res.message, 'success');\n        console.log(res);\n      });\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  // To Disable the radar system\n  disableRadar() {\n    if (!this.radar) {\n      this.util.postAuthData('users/radar-disable', {}).subscribe((res: any) => {\n        this.util.toastPresent('Radar turned off.', 'success');\n      });\n    }\n  }\n\n}\n\n\ninterface Radar {\n  _id: String,\n  lat: Number,\n  lng: Number,\n  active: Boolean,\n  name: String,\n  user: String,\n  date: Date\n}","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"goBack()\\\">\\n        <ion-icon name=\\\"arrow-round-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Comments</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card *ngIf=\\\"comments.length\\\">\\n    <ion-item *ngFor=\\\"let comment of comments; let i = index\\\">\\n      <ion-avatar>\\n        <img src=\\\"http://localhost:5000/{{comment.userImage}}\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <small>{{ comment.name.split(' ')[0] }}</small>\\n        <p>{{ comment.text }}</p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-card>\\n\\n</ion-content>\\n<ion-footer padding>\\n  <!--Comments-->\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">\\n      <ion-icon name=\\\"chatbubbles\\\"></ion-icon>\\n      Share your views on this...\\n    </ion-label>\\n    <ion-textarea name=\\\"text\\\" rows=\\\"1\\\" [(ngModel)]=\\\"text\\\"></ion-textarea>\\n  </ion-item>\\n  <br>\\n  <ion-button expand=\\\"block\\\" fill=\\\"solid\\\" size=\\\"small\\\" (click)=\\\"addComment()\\\">\\n    <ion-icon name=\\\"send\\\"></ion-icon> Comment\\n  </ion-button>\\n\\n  <!--Comments-->\\n</ion-footer>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZGFsL21vZGFsLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ModalController, NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { NetworkProvider } from '../services/network.service';\n\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.page.html',\n  styleUrls: ['./modal.page.scss'],\n})\nexport class ModalPage implements OnInit {\n\n  @Input() value: string;\n  @Input() index: number;\n  @Input() comments = [];\n\n  text = \"\";\n\n  constructor(\n    private modalCtrl: ModalController,\n    private router: Router,\n    private util: NetworkProvider\n  ) {\n  }\n  ngOnInit() {\n    if (this.value == undefined) {\n      this.router.navigate(['/feed']);\n    }\n  }\n\n  //comment Post\n  addComment() {\n    if (this.text != \"\") {\n      this.util.postAuthData(`posts/comment/${this.value}`, { text: this.text })\n        .subscribe((res: any) => {\n          this.comments = res.comments;\n          this.text = \"\";\n        });\n    } else {\n      this.util.toastPresent('Cannot add blank comment.', 'danger');\n    }\n  }\n\n  // go back to feed page\n  goBack() {\n    this.modalCtrl.dismiss();\n  }\n\n}\n"],"sourceRoot":""}